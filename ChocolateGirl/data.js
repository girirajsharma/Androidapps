//Copyright (C) Webbu Kobo Tokyo Japan All Rights Reserved
var canvas = document.getElementById("game_canvas");var ctx = canvas.getContext("2d");var disc_image ="road.png";var dimage = new Image();dimage.src = disc_image;var boygirl_image ="yuivalen.png";var bimage = new Image();bimage.src = boygirl_image;var yui_image ="yui.png";var yimage = new Image();yimage.src = yui_image;var start_image ="start.png";if(document.documentElement.lang == 'ja')start_image ="startj.png";var simage = new Image();simage.src = start_image;var over_image ="over.png";var ovimage = new Image();ovimage.src = over_image;var clear_image ="clear.png";var cimage = new Image();cimage.src = clear_image;var active_image="active.png";var aimage = new Image();aimage.src = active_image;var Board=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]];var Girl=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[1,0,0,0,0,0]];var Goal=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]];var Road=[[4,4,4,4],[0,1,2,3],[4,4,1,0],[1,4,4,2],[0,4,2,4],[4,1,4,3],[4,0,3,4],[3,2,4,4],[4,4,4,4]];var Rotate=[ 0, 1, 3, 7, 5, 4, 2, 6];var selectXY=[0,0];var gDirect= 0;var gSpeed=3;var girlNum= 0;var timer = 0;var timerg= 0;var tama_w = 53;var tama_h = 53;var yui_w  = 52;var yui_h  = 94;var x_marg = 0;var y_marg = 0;var top_marg = 20;var disc_margX=1;var disc_margY=1;var select_margY=tama_h/2;var time = 0;var preopen=0;var open  = 1;var ready = 2;var slide = 3;var start = 4;var run   = 5;var touch = 6;var move  = 7;var del   = 8;var check = 9;var error = 10;var clear =11;var overInit=12;var over  =13;var link  =14;var error2=15;var flg = open;var btnFlg = "";var offsetXY=[0,0];function offsetX(oj){offsetXY[0] = -(document.documentElement.scrollLeft || document.body.scrollLeft);while(oj){offsetXY[0] += oj.offsetLeft;oj = oj.offsetParent;}return}function offsetY(oj){offsetXY[1] = -top_marg - (document.documentElement.scrollTop || document.body.scrollTop);while(oj){offsetXY[1] += oj.offsetTop;oj = oj.offsetParent;}return;}