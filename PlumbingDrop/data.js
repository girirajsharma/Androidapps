//Copyright (C) Webbu Kobo Tokyo Japan All Rights Reserved
var canvas = document.getElementById("game_canvas");var ctx = canvas.getContext("2d");var animal_image="haikandrop.png";var aniimage = new Image();aniimage.src = animal_image;var start_image ="start.png";if(document.documentElement.lang == 'ja')start_image ="startj.png";var simage = new Image();simage.src = start_image;var over_image ="over.png";var ovimage = new Image();ovimage.src = over_image;var clear_image ="clear.png";var cimage = new Image();cimage.src = clear_image;var over_image ="over.png";var ovimage = new Image();ovimage.src = over_image;var active_image="active.png";var aimage = new Image();aimage.src = active_image;var social_image="social.png";var socialimage = new Image();socialimage.src = social_image;var Board =[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]];var bBoard=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]];var slideValue = [[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]];var Rotate=[ 0, 2, 1, 5, 3, 6, 4, 7, 9, 8,11,12,13,10,15,16,17,14,19,20,21,18,23,24,25,22,27,28,29,26];var Road=[[4,4,4,4],[0,4,2,4],[4,1,4,3],[4,4,1,0],[4,0,3,4],[1,4,4,2],[3,2,4,4],[0,1,2,3],[3,2,1,0],[1,0,3,2],[5,4,4,4],[4,5,4,4],[4,4,5,4],[4,4,4,5],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4],[4,4,4,4]];var Stage = 1;var Dare = Stage;var linkEnd=[-1,-1];var score=3;var timer= 0;var starttime=72000;var gametime = starttime;var stoptime=0;var tama_w = 53;var tama_h = 53;var x_marg = 0;var y_marg = 0;var top_marg = 20;var disc_margX=1;var disc_margY=1;var social_w = 125;var social_h = 34;var open  = 0;var ready = 1;var start = 2;var touch = 3;var del   = 4;var drop  = 5;var check = 8;var error = 9;var clear =10;var overInit=11;var over  =12;var link  =13;var error2=14;var tweet =15;var face  =16;var flg = open;var btnFlg ="";var offsetXY=[0,0];function offsetX(oj){offsetXY[0] = -(document.documentElement.scrollLeft || document.body.scrollLeft);while(oj){offsetXY[0] += oj.offsetLeft;oj = oj.offsetParent;}return}function offsetY(oj){offsetXY[1] = -top_marg - (document.documentElement.scrollTop || document.body.scrollTop);while(oj){offsetXY[1] += oj.offsetTop;oj = oj.offsetParent;}return;}