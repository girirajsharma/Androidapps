//Copyright (C) Webbu Kobo Tokyo Japan All Rights Reserved
var canvas = document.getElementById("game_canvas");var ctx = canvas.getContext("2d");var back_image ="soro_base.png";var tama_image ="soro_tama.png";var start_image ="start.png";if(document.documentElement.lang == 'ja')start_image ="startj.png";var over_image ="over.png";var active_image="active.png";var bimage = new Image();bimage.src = back_image;var timage = new Image();timage.src = tama_image;var simage = new Image();simage.src = start_image;var ovimage = new Image();ovimage.src = over_image;var aimage = new Image();aimage.src = active_image;var social_image="social.png";var socialimage = new Image();socialimage.src = social_image;var move = [[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];var value = [[1,1,1,1],[0,0,0,0],[0,0,0,0],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]];var num = [[5,5,5,5],[0,0,0,0],[0,0,0,0],[1,1,1,1],[2,2,2,2],[3,3,3,3],[4,4,4,4]];var timer= 0;var starttime=120000;var gametime = starttime;var time;var point = 0;var vpoint= 0;var qnum = 0;var oldq = 0;var snum = 0;var score= 0;var tama_w = 80;var tama_h = 39.5;var x_marg = 0;var y_marg = 0;var top_marg = 20;var top_tamarg=19;var rail_height=16;var time = 0;var flg = -3;var btnFlg = -2;var social_w = 125;var social_h = 34;var offsetXY=[0,0];function offsetX(oj){offsetXY[0] = -(document.documentElement.scrollLeft || document.body.scrollLeft);while(oj){offsetXY[0] += oj.offsetLeft;oj = oj.offsetParent;}return}function offsetY(oj){offsetXY[1] = -top_marg - (document.documentElement.scrollTop || document.body.scrollTop);while(oj){offsetXY[1] += oj.offsetTop;oj = oj.offsetParent;}return;}