//Copyright (C) Webbu Kobo Tokyo Japan All Rights Reserved
canvas.ontouchstart = function(e){if(e.touches.length>0){for(var i=0;i<e.touches.length;i++){var t = e.touches[i];if(flg==ready)startButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);if(flg==touch)touchPanelXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);if(flg==over)touchButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);if(flg==clear)clearButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);}}e.preventDefault();};canvas.onmousedown = function(e){if(flg==ready)startButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);if(flg==touch)touchPanelXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);if(flg==over)touchButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);if(flg==clear)clearButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);};canvas.ontouchmove = function(e){if(e.touches.length>0){for(var i=0;i<e.touches.length;i++){var t = e.touches[i];if(flg==ready)startButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);if(flg==over)touchButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);if(flg==clear)clearButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);}}e.preventDefault();};window.ontouchmove = function(e){e.preventDefault();};canvas.onmousemove = function(e){if(flg==ready)startButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);if(flg==over)touchButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);if(flg==clear)clearButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);};canvas.ontouchend = function(){if(flg==touch){if(flg==touch)endPanelXY();}else if(flg==bomb && timer>10){turn = 0;goei_x = 0;ubvalue = [[-120,-50,-9.7,2.1],[-120,-70,-11,2.4],[450,-60,14,1.8]];bombs = [[0,-40,0],[0,-40,0]];$("top_info2").innerHTML = "";$("top_info2").style.display="none";flg=touch;return;}else if(flg==ready || flg==over || flg==clear)endButtonXY();e.preventDefault();};canvas.onmouseup = function(){if(flg==touch){if(flg==touch)endPanelXY();}else if(flg==bomb && timer>10){turn = 0;goei_x = 0;ubvalue = [[-120,-50,-9.7,2.1],[-120,-70,-11,2.4],[450,-60,14,1.8]];bombs = [[0,-40,0],[0,-40,0]];$("top_info2").innerHTML = "";$("top_info2").style.display="none";flg=touch;return;}else if(flg==ready || flg==over || flg==clear)endButtonXY();};