//Copyright (C) Webbu Kobo Tokyo Japan All Rights Reserved
canvas.ontouchstart = function(e){if(e.touches.length>0){for(var i=0;i<e.touches.length;i++){var t = e.touches[i];if(flg==ready)startButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);if(flg==touch)touchPanelXY(t.clientX-offsetXY[0], t.clientY-top_marg-offsetXY[1]);if(i==0 && flg==over)overButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);}}e.preventDefault();};canvas.onmousedown = function(e){if(flg==ready)startButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);if(flg==touch)touchPanelXY(e.clientX-offsetXY[0], e.clientY-top_marg-offsetXY[1]);if(flg==over)overButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);};canvas.ontouchmove = function(e){if(e.touches.length>0){for(var i=0;i<e.touches.length;i++){var t = e.touches[i];if(flg==ready)startButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);if(flg==jump)movePanelXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);if(i==0 && flg==over)overButtonXY(t.clientX-offsetXY[0], t.clientY-offsetXY[1]);}}e.preventDefault();};window.ontouchmove = function(e){e.preventDefault();};canvas.onmousemove = function(e){if(flg==ready)startButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);if(flg==jump)movePanelXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);if(flg==over)overButtonXY(e.clientX-offsetXY[0], e.clientY-offsetXY[1]);};canvas.ontouchend = function(){if(flg==jump)endPanelXY();if(flg==ready || flg==over)endButtonXY();e.preventDefault();};canvas.onmouseup = function(){if(flg==jump)endPanelXY();if(flg==ready || flg==over)endButtonXY();};